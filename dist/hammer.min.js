/*! Hammer.JS - v2.0.0-dev - 2014-07-08
 * http://eightmedia.github.io/hammer.js
 *
 * Copyright (c) 2014 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */


!function(a,b){"use strict";function c(a,b,c){return setTimeout(h(a,c),b)}function d(a,c,d){var e,f;if(a)if(a.forEach)a.forEach(c,d);else if(a.length!==b)for(e=0,f=a.length;f>e;e++)c.call(d,a[e],e,a);else for(e in a)a.hasOwnProperty(e)&&c.call(d,a[e],e,a)}function e(a,c,d){for(var e=Object.keys(c),f=0,g=e.length;g>f;f++)(!d||d&&a[e[f]]===b)&&(a[e[f]]=c[e[f]]);return a}function f(a,b){return e(a,b,!0)}function g(a,b,c){var d,f=b.prototype;if(Object.create)d=a.prototype=Object.create(f),d.constructor=a;else{e(a,b);var g=function(){this.constructor=a};g.prototype=f,d=a.prototype=new g}c&&e(d,c),d._super=f}function h(a,b){return function(){return a.apply(b,arguments)}}function i(b,c){return typeof b==cb?b.apply(c?c[0]||a:a,c):b}function j(a,c){return a===b?c:a}function k(a,b,c){d(o(b),function(b){a.addEventListener(b,c,!1)})}function l(a,b,c){d(o(b),function(b){a.removeEventListener(b,c,!1)})}function m(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function n(a,b){return a.indexOf(b)>-1}function o(a){return a.trim().split(/\s+/g)}function p(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0,e=a.length;e>d;d++)if(c&&a[d][c]==b||!c&&a[d]===b)return d;return-1}function q(a){return Array.prototype.slice.call(a,0)}function r(a,b){for(var c=[],d=[],e=0,f=a.length;f>e;e++){var g=b?a[e][b]:a[e];p(d,g)<0&&c.push(a[e]),d[e]=g}return c}function s(a,c){for(var d,e,f=c[0].toUpperCase()+c.slice(1),g=0,h=bb.length;h>g;g++)if(d=bb[g],e=d?d+f:c,e in a)return e;return b}function t(){return gb++}function u(b,c){var d=this;this.manager=b,this.callback=c,this.domHandler=function(a){i(d.manager.options.enable,[d.manager])&&d.handler(a)},this.evEl&&k(this.manager.element,this.evEl,this.domHandler),this.evWin&&k(a,this.evWin,this.domHandler)}function v(a){var b;return new(b=jb?I:kb?J:ib?L:H)(a,w)}function w(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&qb&&d-e===0,g=b&sb&&d-e===0;c.isFirst=f,c.isFinal=g,f&&(a.session={}),c.eventType=b,x(a,c),a.recognize(c)}function x(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=z(b)),e>1&&!c.firstMultiple?c.firstMultiple=z(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=A(d);b.timeStamp=fb(),b.deltaTime=b.timeStamp-f.timeStamp,b.deltaX=i.x-h.x,b.deltaY=i.y-h.y,b.center=i,b.angle=E(h,i),b.distance=D(h,i),b.offsetDirection=C(b.deltaX,b.deltaY),b.scale=g?G(g.pointers,d):1,b.rotation=g?F(g.pointers,d):0;var j=a.element;m(b.srcEvent.target,j)&&(j=b.srcEvent.target),b.target=j,y(c,b)}function y(a,c){var d=a.lastInterval;d||(d=a.lastInterval=z(c));var e,f,g,h,i=c.timeStamp-d.timeStamp;if(i>pb||d.velocity===b){var j=d.deltaX-c.deltaX,k=d.deltaY-c.deltaY,l=B(i,j,k);f=l.x,g=l.y,e=Math.max(l.x,l.y),h=C(j,k)}else e=d.velocity,f=d.velocityX,g=d.velocityY,h=d.direction;c.velocity=e,c.velocityX=f,c.velocityY=g,c.direction=h}function z(a){for(var b=[],c=0;c<a.pointers.length;c++)b[c]={clientX:eb(a.pointers[c].clientX),clientY:eb(a.pointers[c].clientY)};return{timeStamp:fb(),pointers:b,center:A(b),deltaX:a.deltaX,deltaY:a.deltaY}}function A(a){var b=a.length;if(1===b)return{x:eb(a[0].clientX),y:eb(a[0].clientY)};for(var c=0,d=0,e=0;b>e;e++)c+=a[e].clientX,d+=a[e].clientY;return{x:eb(c/b),y:eb(d/b)}}function B(a,b,c){return{x:Math.abs(b/a)||0,y:Math.abs(c/a)||0}}function C(a,b){return a===b?ub:Math.abs(a)>=Math.abs(b)?a>0?vb:wb:b>0?xb:yb}function D(a,b,c){c||(c=Cb);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function E(a,b,c){c||(c=Cb);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function F(a,b){return E(b[1],b[0],Db)-E(a[1],a[0],Db)}function G(a,b){return D(b[0],b[1],Db)/D(a[0],a[1],Db)}function H(){this.evEl=Fb,this.evWin=Gb,this.allow=!0,this.pressed=!1,u.apply(this,arguments)}function I(){this.evEl=Jb,this.evWin=Kb,u.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function J(){this.evEl=Mb,this.targetIds={},u.apply(this,arguments)}function K(a,b){var c,d,e=b.targetIds,f=q(a.targetTouches),g=q(a.changedTouches),h=[];if("touchstart"==a.type)for(c=0,d=f.length;d>c;c++)e[f[c].identifier]=!0;for(c=0,d=g.length;d>c;c++)e[g[c].identifier]&&h.push(g[c]),("touchend"==a.type||"touchcancel"==a.type)&&delete e[g[c].identifier];return[r(f.concat(h),"identifier"),h]}function L(){u.apply(this,arguments);var a=h(this.handler,this);this.touch=new J(this.manager,a),this.mouse=new H(this.manager,a)}function M(a,b){this.manager=a,this.set(b)}function N(a){return n(a,Sb)?Sb:n(a,Tb)||n(a,Ub)?a.replace(/[\-\w]+/g,function(a){return/^pan\-/.test(a)?a:""}):n(a,Rb)?Rb:Qb}function O(a){this.id=t(),this.manager=null,this.options=f(a||{},this.defaults),this.options.enable=j(this.options.enable,!0),this.state=Vb,this.simultaneous={},this.requireFail=[]}function P(a){return a&$b?"cancel":a&Yb?"end":a&Xb?"move":a&Wb?"start":""}function Q(a){return a==yb?"down":a==xb?"up":a==vb?"left":a==wb?"right":""}function R(a,b){var c=b.manager;return c?c.get(a):a}function S(){O.apply(this,arguments)}function T(){S.apply(this,arguments),this.pX=null,this.pY=null}function U(){S.apply(this,arguments)}function V(){O.apply(this,arguments),this._timer=null,this._input=null}function W(){S.apply(this,arguments)}function X(){S.apply(this,arguments)}function Y(){O.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Z(a,b){return b=b||{},b.recognizers=j(b.recognizers,Z.defaults.easyRecognizers),new $(a,b)}function $(a,b){b=b||{},this.options=f(b,Z.defaults),this.handlers={},this.session={},this.recognizers=[],this.element=a,this.input=v(this),this.touchAction=new M(this,this.options.touchAction),_(this,!0),d(b.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&d(a[2],b.recognizeWith,b),a[3]&&d(a[3],b.requireFailure,b)},this)}function _(a,b){var c=a.element,e=a.options.cssProps;d(e,function(a,d){c.style[s(c.style,d)]=b?a:""});var f=b&&function(){return!1};"none"==e.userSelect&&(c.onselectstart=f),"none"==e.userDrag&&(c.ondragstart=f)}function ab(a,b){var c=document.createEvent("Event");c.initEvent(a,!0,!0),c.gesture=b,b.target.dispatchEvent(c)}var bb=["","webkit","moz","MS","ms","o"],cb="function",db="undefined",eb=Math.round,fb=Date.now,gb=1,hb=/mobile|tablet|ip(ad|hone|od)|android/i,ib="ontouchstart"in a,jb=s(a,"PointerEvent")!==b,kb=ib&&hb.test(navigator.userAgent),lb="touch",mb="pen",nb="mouse",ob="kinect",pb=25,qb=1,rb=2,sb=4,tb=8,ub=1,vb=2,wb=4,xb=8,yb=16,zb=vb|wb,Ab=xb|yb,Bb=zb|Ab,Cb=["x","y"],Db=["clientX","clientY"];u.prototype={handler:function(){},destroy:function(){this.elEvents&&l(this.manager.element,this.elEvents,this.domHandler),this.winEvents&&l(a,this.winEvents,this.domHandler)}};var Eb={mousedown:qb,mousemove:rb,mouseup:sb,mouseout:tb},Fb="mousedown",Gb="mousemove mouseout mouseup";g(H,u,{handler:function(a){var b=Eb[a.type];if(b&qb&&0===a.button&&(this.pressed=!0),b&rb&&1!==a.which&&(b=sb),this.pressed&&this.allow){var c=a.relatedTarget||a.toElement||a.target;"mouseout"==a.type&&"HTML"!=c.nodeName&&(b=rb),b&(sb|tb)&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:nb,srcEvent:a})}}});var Hb={pointerdown:qb,pointermove:rb,pointerup:sb,pointercancel:tb,pointerout:tb},Ib={2:lb,3:mb,4:nb,5:ob},Jb="pointerdown pointermove pointerup pointercancel",Kb="pointerout";a.MSPointerEvent&&(Jb="MSPointerDown MSPointerMove MSPointerUp MSPointerCancel",Kb="MSPointerOut"),g(I,u,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Hb[d],f=Ib[a.pointerType]||a.pointerType,g=a.relatedTarget||a.toElement||a.target;"pointerout"==d&&"HTML"!=g.nodeName&&(e=rb),e&qb&&(0===a.button||f==lb)?b.push(a):e&(sb|tb)&&(c=!0);var h=p(b,a.pointerId,"pointerId");0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Lb={touchstart:qb,touchmove:rb,touchend:sb,touchcancel:tb},Mb="touchstart touchmove touchend touchcancel";g(J,u,{handler:function(a){var b=K(a,this);this.callback(this.manager,Lb[a.type],{pointers:b[0],changedPointers:b[1],pointerType:lb,srcEvent:a})}}),g(L,u,{handler:function(a,b,c){var d=c.pointerType==lb,e=c.pointerType==nb;if(d)this.mouse.allow=!1;else if(e&&!this.mouse.allow)return;b&(sb|tb)&&(this.mouse.allow=!0),this.callback(a,b,c)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Nb=s(document.body.style,"touchAction"),Ob=Nb!==b,Pb="compute",Qb="auto",Rb="manipulation",Sb="none",Tb="pan-x",Ub="pan-y";M.prototype={set:function(a){a==Pb&&(a=this.compute()),Ob&&(this.manager.element.style[Nb]=a),this.actions=a.toLowerCase()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a,b=[];return d(this.manager.recognizers,function(a){i(a.options.enable,a)&&(b=b.concat(a.getTouchAction()))}),a=r(b).join(" "),N(a)},preventDefaults:function(a){if(!Ob){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=n(d,Sb),f=n(d,Ub),g=n(d,Tb);return e||f&&g||f&&c&zb||g&&c&Ab?this.preventSrc(b):void 0}},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var Vb=1,Wb=2,Xb=4,Yb=8,Zb=Yb,$b=16,_b=32;O.prototype={defaults:{},set:function(a,b){return this.options[a]=b,this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){var b=this.simultaneous;return a=R(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return a=R(a,this),delete this.simultaneous[a.id],this},requireFailure:function(a){var b=this.requireFail;return a=R(a,this),-1===p(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){a=R(a,this);var b=p(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){this.manager.emit(this.options.event,a),this.manager.emit(this.options.event+P(this.state),a)},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=_b)},canEmit:function(){for(var a=0;a<this.requireFail.length;a++)if(!(this.requireFail[a].state&(_b|Vb)))return!1;return!0},recognize:function(a){var b=e({},a);return i(this.options.enable,[this,b])?(this.state&(Zb|$b|_b)&&(this.state=Vb),this.state=this.process(b),void(this.state&(Wb|Xb|Yb|$b)&&this.tryEmit(b))):(this.reset(),void(this.state=_b))},process:function(){},getTouchAction:function(){},reset:function(){}},g(S,O,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(Wb|Xb),e=this.attrTest(a);return d&&(c&tb||!e)?b|$b:d||e?c&sb?b|Yb:b&Wb?b|Xb:Wb:_b}}),g(T,S,{defaults:{event:"pan",threshold:10,pointers:1,direction:Bb},getTouchAction:function(){var a=this.options.direction;if(a===Bb)return[Sb];var b=[];return a&zb&&b.push(Ub),a&Ab&&b.push(Tb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&zb?(e=0===f?ub:0>f?vb:wb,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?ub:0>g?xb:yb,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return S.prototype.attrTest.call(this,a)&&(this.state&Wb||!(this.state&Wb)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY,this._super.emit.call(this,a);var b=Q(a.direction);b&&this.manager.emit(this.options.event+b,a)}}),g(U,S,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Tb,Ub]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&Wb)},emit:function(a){if(this._super.emit.call(this,a),1!==a.scale){var b=a.scale<1?"in":"out";this.manager.emit(this.options.event+b,a)}}}),g(V,O,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Qb]},process:function(a){var b=this.options,d=a.pointers.length===b.pointers,e=a.distance<b.threshold,f=a.deltaTime>b.time;return this._input=a,!e||!d||a.eventType&(sb|tb)&&!f?this.reset():a.eventType&qb&&(this.reset(),this._timer=c(function(){this.state=Zb,this.tryEmit()},b.time,this)),_b},reset:function(){clearTimeout(this._timer)},emit:function(){this.state===Zb&&(this._input.timeStamp=fb(),this.manager.emit(this.options.event,this._input))}}),g(W,S,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Sb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&Wb)}}),g(X,S,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:zb|Ab,pointers:1},getTouchAction:function(){return T.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(zb|Ab)?b=a.velocity:c&zb?b=a.velocityX:c&Ab&&(b=a.velocityY),this._super.attrTest.call(this,a)&&c&a.direction&&b>this.options.velocity&&a.eventType&sb},emit:function(a){this.manager.emit(this.options.event,a);var b=Q(a.direction);b&&this.manager.emit(this.options.event+b,a)}}),g(Y,O,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[Rb]},process:function(a){var b=this.options,d=a.pointers.length===b.pointers,e=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&qb&&0===this.count)return this._failTimeout();if(e&&f&&d){if(a.eventType!=sb)return this._failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||D(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=c(function(){this.state=Zb,this.tryEmit()},b.interval,this),Wb):Zb}return _b},_failTimeout:function(){return this._timer=c(function(){this.state=_b},this.options.interval,this),_b},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Zb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Z.VERSION="2.0.0-dev",Z.defaults={domEvents:!1,touchAction:Pb,enable:!0,easyRecognizers:[[W,{enable:!1}],[U,{enable:!1},["rotate"]],[X,{direction:zb}],[T,{direction:zb},["swipe"]],[Y],[Y,{event:"doubletap",taps:2},["tap"]],[V]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ac=1,bc=2;$.prototype={set:function(a,b){this.options[a]=b},stop:function(a){this.session.stopped=a?bc:ac},recognize:function(a){if(!this.session.stopped){this.touchAction.preventDefaults(a);var b,c=this.session,d=c.curRecognizer;(!d||d&&d.state&Zb)&&(d=c.curRecognizer=null);for(var e=0,f=this.recognizers.length;f>e;e++)b=this.recognizers[e],this.session.stopped===bc||d&&b!=d&&!b.canRecognizeWith(d)?b.reset():b.recognize(a),!d&&b.state&(Wb|Xb|Yb)&&(d=c.curRecognizer=b)}},get:function(a){if(a instanceof O)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){var b=this.recognizers;a=this.get(a),b.splice(p(b,a),1),this.touchAction.update()},on:function(a,b){var c=this.handlers;return d(o(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this},off:function(a,b){var c=this.handlers;return d(o(a),function(a){b?c[a].splice(p(c[a],b),1):delete c[a]}),this},emit:function(a,b){this.options.domEvents&&ab(a,b);var c=this.handlers[a];if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0,e=c.length;e>d;d++)c[d](b)}},destroy:function(){this.element&&_(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},e(Z,{INPUT_START:qb,INPUT_MOVE:rb,INPUT_END:sb,INPUT_CANCEL:tb,STATE_POSSIBLE:Vb,STATE_BEGAN:Wb,STATE_CHANGED:Xb,STATE_ENDED:Yb,STATE_RECOGNIZED:Zb,STATE_CANCELLED:$b,STATE_FAILED:_b,DIRECTION_NONE:ub,DIRECTION_LEFT:vb,DIRECTION_RIGHT:wb,DIRECTION_UP:xb,DIRECTION_DOWN:yb,DIRECTION_HORIZONTAL:zb,DIRECTION_VERTICAL:Ab,DIRECTION_ALL:Bb,Manager:$,Input:u,TouchAction:M,Recognizer:O,AttrRecognizer:S,Tap:Y,Pan:T,Swipe:X,Pinch:U,Rotate:W,Press:V,on:k,off:l,each:d,merge:f,extend:e,inherit:g,bindFn:h,prefixed:s}),typeof define==cb&&define.amd?define(function(){return Z}):typeof module!=db&&module.exports?module.exports=Z:a.Hammer=Z}(window);
//# sourceMappingURL=hammer.min.map